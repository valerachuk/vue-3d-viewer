(function(t){function n(n){for(var i,o,s=n[0],l=n[1],u=n[2],m=0,d=[];m<s.length;m++)o=s[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(n);while(d.length)d.shift()();return r.push.apply(r,u||[]),e()}function e(){for(var t,n=0;n<r.length;n++){for(var e=r[n],i=!0,s=1;s<e.length;s++){var l=e[s];0!==a[l]&&(i=!1)}i&&(r.splice(n--,1),t=o(o.s=e[0]))}return t}var i={},a={app:0},r=[];function o(n){if(i[n])return i[n].exports;var e=i[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=t,o.c=i,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)o.d(e,i,function(n){return t[n]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var u=0;u<s.length;u++)n(s[u]);var c=l;r.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-app",[e("v-main",[e("div",{staticClass:"flex-container d-flex"},[e("scene-controls",{staticClass:"scene-controls"}),e("div",{staticClass:"divider grey darken-2"}),e("three-scene")],1)])],1)},r=[],o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-card",{attrs:{flat:""}},[e("v-card-title",[t._v(" Controls ")]),e("v-card-text",[e("h3",{staticClass:"mb-4"},[t._v("Animation")]),e("v-checkbox",{attrs:{label:"Turn on animation"},on:{click:t.animationStateChanged},model:{value:t.animationEnabled,callback:function(n){t.animationEnabled=n},expression:"animationEnabled"}}),t.animationEnabled?e("p",{staticClass:"text-body-1"},[t._v(" Animation curve: "),e("br"),t._v(" y = x^sin(2x) - x^cos(5x) ")]):t._e(),t.animationEnabled?t._e():[e("h3",{staticClass:"my-4"},[t._v("Scale")]),e("vector-input",{attrs:{step:"0.05"},model:{value:t.scale,callback:function(n){t.scale=n},expression:"scale"}}),e("h3",{staticClass:"my-4"},[t._v("Rotation")]),e("vector-input",{attrs:{step:"5"},model:{value:t.rotation,callback:function(n){t.rotation=n},expression:"rotation"}}),e("h3",{staticClass:"my-4"},[t._v("Position")]),e("vector-input",{attrs:{max:"30"},model:{value:t.position,callback:function(n){t.position=n},expression:"position"}}),e("h3",{staticClass:"my-4"},[t._v("Rotation around world center")]),e("vector-input",{attrs:{step:"5"},model:{value:t.rotationAroundWorldCenter,callback:function(n){t.rotationAroundWorldCenter=n},expression:"rotationAroundWorldCenter"}}),e("h3",{staticClass:"my-4"},[t._v("Mirror")]),e("mirror-vector-input",{model:{value:t.mirror,callback:function(n){t.mirror=n},expression:"mirror"}})]],2)],1)},s=[],l=new i["a"],u=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",dense:"",type:"number",label:"X","hide-details":"",step:t.step,max:t.max},model:{value:t.xValue,callback:function(n){t.xValue=n},expression:"xValue"}}),e("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",dense:"",type:"number",label:"Y","hide-details":"",step:t.step,max:t.max},model:{value:t.yValue,callback:function(n){t.yValue=n},expression:"yValue"}}),e("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",dense:"",type:"number",label:"Z","hide-details":"",step:t.step,max:t.max},model:{value:t.zValue,callback:function(n){t.zValue=n},expression:"zValue"}})],1)},c=[],m=(e("a9e3"),{name:"VectorInput",props:{value:{type:Object,required:!0},step:{type:[Number,String],default:1},max:{type:[Number,String],default:1e4}},methods:{emitInput:function(t){this.$emit("input",Object.assign({},this.value,t))}},computed:{xValue:{get:function(){return this.value.x},set:function(t){this.emitInput({x:+t})}},yValue:{get:function(){return this.value.y},set:function(t){this.emitInput({y:+t})}},zValue:{get:function(){return this.value.z},set:function(t){this.emitInput({z:+t})}}}}),d=m,h=e("2877"),f=e("6544"),p=e.n(f),v=e("8654"),b=Object(h["a"])(d,u,c,!1,null,null,null),y=b.exports;p()(b,{VTextField:v["a"]});var x=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("v-checkbox",{staticClass:"mb-3",attrs:{label:"YOZ","hide-details":""},model:{value:t.xValue,callback:function(n){t.xValue=n},expression:"xValue"}}),e("v-checkbox",{staticClass:"mb-3",attrs:{label:"XOZ","hide-details":""},model:{value:t.yValue,callback:function(n){t.yValue=n},expression:"yValue"}}),e("v-checkbox",{staticClass:"mb-3",attrs:{label:"XOY","hide-details":""},model:{value:t.zValue,callback:function(n){t.zValue=n},expression:"zValue"}})],1)},C=[],w={name:"MirrorVectorInput",props:{value:{type:Object,required:!0}},methods:{emitInput:function(t){this.$emit("input",Object.assign({},this.value,t))}},computed:{xValue:{get:function(){return this.value.x},set:function(t){this.emitInput({x:t})}},yValue:{get:function(){return this.value.y},set:function(t){this.emitInput({y:t})}},zValue:{get:function(){return this.value.z},set:function(t){this.emitInput({z:t})}}}},g=w,M=e("ac7c"),S=Object(h["a"])(g,x,C,!1,null,null,null),I=S.exports;p()(S,{VCheckbox:M["a"]});var V={name:"SceneControls",components:{VectorInput:y,MirrorVectorInput:I},data:function(){return{animationEnabled:!1,transform:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotationAroundWorldCenter:{x:0,y:0,z:0},mirror:{x:!1,y:!1,z:!1}}}},methods:{emitInput:function(){l.$emit("transformControlsUpdated",this.transform)},animationStateChanged:function(){l.$emit("animationStateChanged",this.animationEnabled)}},computed:{position:{get:function(){return this.transform.position},set:function(t){this.transform.position=t,this.emitInput()}},rotation:{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t,this.emitInput()}},scale:{get:function(){return this.transform.scale},set:function(t){this.transform.scale=t,this.emitInput()}},rotationAroundWorldCenter:{get:function(){return this.transform.rotationAroundWorldCenter},set:function(t){this.transform.rotationAroundWorldCenter=t,this.emitInput()}},mirror:{get:function(){return this.transform.mirror},set:function(t){this.transform.mirror=t,this.emitInput()}}}},k=V,O=e("b0af"),j=e("99d9"),A=Object(h["a"])(k,o,s,!1,null,null,null),z=A.exports;p()(A,{VCard:O["a"],VCardText:j["a"],VCardTitle:j["b"],VCheckbox:M["a"]});var _=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{ref:"canvasHandler",attrs:{id:"canvas-handler"}})},T=[],E=e("2909"),W=e("5a89"),X=e("518e");function $(t){var n=Z.Identity;if("mirror"in t){var e=t.mirror,i={x:e.x?-1:1,y:e.y?-1:1,z:e.z?-1:1};n.premultiply(q(i))}return"rotationAroundWorldCenter"in t&&n.premultiply(P(t.rotationAroundWorldCenter)),"position"in t&&n.premultiply(R(t.position)),"rotation"in t&&n.premultiply(P(t.rotation)),"scale"in t&&n.premultiply(q(t.scale)),n.toRowMajor()}function R(t){var n=t.x,e=t.y,i=t.z;return new Z([1,0,0,0,0,1,0,0,0,0,1,0,n,e,i,1])}function P(t){var n=t.x,e=t.y,i=t.z,a=Z.Identity;return a.premultiply(N(i)),a.premultiply(L(e)),a.premultiply(U(n)),a}function U(t){return new Z([1,0,0,0,0,G(t),B(t),0,0,-B(t),G(t),0,0,0,0,1])}function L(t){return new Z([G(t),0,-B(t),0,0,1,0,0,B(t),0,G(t),0,0,0,0,1])}function N(t){return new Z([G(t),B(t),0,0,-B(t),G(t),0,0,0,0,1,0,0,0,0,1])}function q(t){var n=t.x,e=t.y,i=t.z;return new Z([n,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1])}var H=e("d4ec"),Y=e("bee2"),Z=function(){function t(n){Object(H["a"])(this,t),this.columnMajorArray=n,this.ROWS=4,this.COLUMNS=4}return Object(Y["a"])(t,[{key:"toRowMajor",value:function(){for(var n=new t([]),e=0;e<this.COLUMNS;e++)for(var i=0;i<this.ROWS;i++)n.setAt(e,i,this.getAt(i,e));return n.columnMajorArray}},{key:"getAt",value:function(t,n){return this.columnMajorArray[n+t*this.ROWS]}},{key:"setAt",value:function(t,n,e){this.columnMajorArray[n+t*this.ROWS]=e}},{key:"multiply",value:function(t){var n=F(this,t);this.columnMajorArray=n.columnMajorArray}},{key:"premultiply",value:function(t){var n=F(t,this);this.columnMajorArray=n.columnMajorArray}}],[{key:"Identity",get:function(){return new t([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}]),t}();function D(t,n,e,i){for(var a=0,r=0;r<t.COLUMNS;r++)a+=t.getAt(e,r)*n.getAt(r,i);return a}function F(t,n){for(var e=new Z([]),i=0;i<t.ROWS;i++)for(var a=0;a<n.COLUMNS;a++)e.setAt(i,a,D(t,n,i,a));return e}function J(t){return t*Math.PI/180}function B(t){return Math.sin(J(t))}function G(t){return Math.cos(J(t))}function K(t){return Math.pow(t,Math.sin(2*t))+Math.pow(t,Math.cos(5*t))}var Q={name:"ThreeScene",data:function(){return{threeClock:null,scene:null,camera:null,renderer:null,textMesh:null,animationEnabled:!1,animationInfo:{initialAnimationX:0,animationX:null,animationSpeed:2,animationXMin:0,animationXMax:25},lastTransform:{}}},mounted:function(){l.$on("transformControlsUpdated",this.onTransformControlsUpdated),l.$on("animationStateChanged",this.animationStateChanged),this.initScene(),this.onWindowResize(),window.addEventListener("resize",this.onWindowResize),this.loadTextModel()},beforeDestroy:function(){window.removeEventListener("resize",this.onWindowResize),l.$off("transformControlsUpdated",this.onTransformControlsUpdated),l.$off("animationStateChanged",this.animationStateChanged)},methods:{onWindowResize:function(){var t=this.$refs.canvasHandler.getBoundingClientRect(),n=t.width,e=t.height;this.camera.aspect=n/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,e),this.renderer.render(this.scene,this.camera)},loadTextModel:function(){var t=this,n=new W["n"]({color:"hsl(0, 100%, 50%)",wireframe:!0}),e=new X["a"];e.load("./hello-world.stl",(function(e){t.textMesh=new W["m"](e,n),t.textMesh.add(new W["b"](15)),t.scene.add(t.textMesh),t.render()}))},onTransformControlsUpdated:function(t){this.lastTransform=t,this.applyTransform(t)},applyTransform:function(t){var n=$(t),e=new W["l"];e.set.apply(e,Object(E["a"])(n)),e.decompose(this.textMesh.position,this.textMesh.quaternion,this.textMesh.scale),this.render()},animationStateChanged:function(t){if(this.animationEnabled=t,t)return this.animationInfo.animationX=this.animationInfo.initialAnimationX,this.threeClock.start(),void this.animate();this.applyTransform(this.lastTransform)},animate:function(){if(this.animationEnabled){requestAnimationFrame(this.animate),this.animationInfo.animationX+=this.animationInfo.animationSpeed*this.threeClock.getDelta(),this.animationInfo.animationX>=this.animationInfo.animationXMax&&(this.animationInfo.animationSpeed=-Math.abs(this.animationInfo.animationSpeed)),this.animationInfo.animationX<=this.animationInfo.animationXMin&&(this.animationInfo.animationSpeed=Math.abs(this.animationInfo.animationSpeed));var t=K(this.animationInfo.animationX);this.applyTransform({position:{x:this.animationInfo.animationX,y:t,z:0}})}},render:function(){this.renderer.render(this.scene,this.camera)},initScene:function(){this.threeClock=new W["e"],this.scene=new W["p"],this.scene.background=new W["f"]("hsl(0, 100%, 100%)"),this.camera=new W["o"](75,1,.1,1e3),this.camera.position.set(50,50,50),this.camera.lookAt(0,0,0),this.scene.add(this.camera);var t=new W["g"]("hsl(0, 0%, 100%)");t.position.set(0,0,10),this.scene.add(t);var n=new W["a"]("hsl(0, 0%, 50%)");this.scene.add(n);var e=new W["b"](35);this.scene.add(e),this.renderer=new W["r"]({antialias:!0}),this.$refs.canvasHandler.appendChild(this.renderer.domElement)}}},tt=Q,nt=(e("747d"),Object(h["a"])(tt,_,T,!1,null,"797a304c",null)),et=nt.exports,it={name:"App",components:{SceneControls:z,ThreeScene:et}},at=it,rt=(e("7cb2"),e("7496")),ot=e("f6c4"),st=Object(h["a"])(at,a,r,!1,null,"d08bb19e",null),lt=st.exports;p()(st,{VApp:rt["a"],VMain:ot["a"]});var ut=e("f309");i["a"].use(ut["a"]);var ct=new ut["a"]({});i["a"].config.productionTip=!1,new i["a"]({vuetify:ct,render:function(t){return t(lt)}}).$mount("#app")},"5ded":function(t,n,e){},"6d3a":function(t,n,e){},"747d":function(t,n,e){"use strict";e("5ded")},"7cb2":function(t,n,e){"use strict";e("6d3a")}});
//# sourceMappingURL=app.43d35ca5.js.map