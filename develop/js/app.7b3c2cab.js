(function(t){function e(e){for(var a,r,s=e[0],l=e[1],u=e[2],d=0,f=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("div",{staticClass:"flex-container d-flex"},[n("scene-controls",{staticClass:"scene-controls"}),n("div",{staticClass:"divider grey darken-2"}),n("three-scene")],1)])],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{flat:""}},[n("v-card-title",[t._v(" Controls ")]),n("v-card-text",[t.rotationEnabled?t._e():[n("h3",{staticClass:"mb-4"},[t._v("Animate")]),n("v-checkbox",{attrs:{label:"Turn on animation"},on:{click:t.animationStateChanged},model:{value:t.animationEnabled,callback:function(e){t.animationEnabled=e},expression:"animationEnabled"}}),t.animationEnabled?n("p",{staticClass:"text-body-1"},[t._v(" Animation curve: "),n("br"),t._v(" y = x^sin(2x) - x^cos(5x) ")]):t._e()],t.animationEnabled?t._e():[n("h3",{staticClass:"mb-4"},[t._v("Rotate")]),n("v-checkbox",{attrs:{label:"Turn on rotation"},on:{click:t.rotateStateChanged},model:{value:t.rotationEnabled,callback:function(e){t.rotationEnabled=e},expression:"rotationEnabled"}})],t.animationEnabled||t.rotationEnabled?t._e():[n("h3",{staticClass:"my-4"},[t._v("Scale")]),n("vector-input",{attrs:{step:"0.05"},model:{value:t.scale,callback:function(e){t.scale=e},expression:"scale"}}),n("h3",{staticClass:"my-4"},[t._v("Rotation")]),n("vector-input",{attrs:{step:"5"},model:{value:t.rotation,callback:function(e){t.rotation=e},expression:"rotation"}}),n("h3",{staticClass:"my-4"},[t._v("Position")]),n("vector-input",{attrs:{max:"30"},model:{value:t.position,callback:function(e){t.position=e},expression:"position"}}),n("h3",{staticClass:"my-4"},[t._v("Rotation around world center")]),n("vector-input",{attrs:{step:"5"},model:{value:t.rotationAroundWorldCenter,callback:function(e){t.rotationAroundWorldCenter=e},expression:"rotationAroundWorldCenter"}}),n("h3",{staticClass:"my-4"},[t._v("Mirror")]),n("mirror-vector-input",{model:{value:t.mirror,callback:function(e){t.mirror=e},expression:"mirror"}})],n("h3",{staticClass:"mt-4"},[t._v("Depth buffer")]),n("depth-buffer-controls",{model:{value:t.depthBuffer,callback:function(e){t.depthBuffer=e},expression:"depthBuffer"}})],2)],1)},s=[],l=new a["a"],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",dense:"",type:"number",label:"X","hide-details":"",step:t.step,max:t.max},model:{value:t.xValue,callback:function(e){t.xValue=e},expression:"xValue"}}),n("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",dense:"",type:"number",label:"Y","hide-details":"",step:t.step,max:t.max},model:{value:t.yValue,callback:function(e){t.yValue=e},expression:"yValue"}}),n("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",dense:"",type:"number",label:"Z","hide-details":"",step:t.step,max:t.max},model:{value:t.zValue,callback:function(e){t.zValue=e},expression:"zValue"}})],1)},c=[],d=(n("a9e3"),{name:"VectorInput",props:{value:{type:Object,required:!0},step:{type:[Number,String],default:1},max:{type:[Number,String],default:1e4}},methods:{emitInput:function(t){this.$emit("input",Object.assign({},this.value,t))}},computed:{xValue:{get:function(){return this.value.x},set:function(t){this.emitInput({x:+t})}},yValue:{get:function(){return this.value.y},set:function(t){this.emitInput({y:+t})}},zValue:{get:function(){return this.value.z},set:function(t){this.emitInput({z:+t})}}}}),f=d,h=n("2877"),m=n("6544"),p=n.n(m),v=n("8654"),b=Object(h["a"])(f,u,c,!1,null,null,null),y=b.exports;p()(b,{VTextField:v["a"]});var x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-checkbox",{staticClass:"mb-3",attrs:{label:"YOZ","hide-details":""},model:{value:t.xValue,callback:function(e){t.xValue=e},expression:"xValue"}}),n("v-checkbox",{staticClass:"mb-3",attrs:{label:"XOZ","hide-details":""},model:{value:t.yValue,callback:function(e){t.yValue=e},expression:"yValue"}}),n("v-checkbox",{staticClass:"mb-3",attrs:{label:"XOY","hide-details":""},model:{value:t.zValue,callback:function(e){t.zValue=e},expression:"zValue"}})],1)},C=[],g={name:"MirrorVectorInput",props:{value:{type:Object,required:!0}},methods:{emitInput:function(t){this.$emit("input",Object.assign({},this.value,t))}},computed:{xValue:{get:function(){return this.value.x},set:function(t){this.emitInput({x:t})}},yValue:{get:function(){return this.value.y},set:function(t){this.emitInput({y:t})}},zValue:{get:function(){return this.value.z},set:function(t){this.emitInput({z:t})}}}},S=g,E=n("ac7c"),V=Object(h["a"])(S,x,C,!1,null,null,null),A=V.exports;p()(V,{VCheckbox:E["a"]});var w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-checkbox",{staticClass:"mb-3",attrs:{label:"Enable","hide-details":""},model:{value:t.enabledValue,callback:function(e){t.enabledValue=e},expression:"enabledValue"}}),t.enabledValue?[n("v-select",{staticClass:"mb-3",attrs:{items:t.depthComparatorValues,outlined:"",dense:"",label:"Comparator","hide-details":""},model:{value:t.comparatorValue,callback:function(e){t.comparatorValue=e},expression:"comparatorValue"}}),n("v-text-field",{staticClass:"mb-3",attrs:{outlined:"",dense:"",type:"number",label:"Initial buffer value","hide-details":""},model:{value:t.initialBufferValue,callback:function(e){t.initialBufferValue=e},expression:"initialBufferValue"}})]:t._e()],2)},I=[],k={name:"DepthBufferControls",props:{value:{type:Object,required:!0}},data:function(){return{depthComparatorValues:["NEVER","LESS","EQUAL","LEQUAL","GREATER","NOTEQUAL","GEQUAL","ALWAYS"]}},methods:{emitInput:function(t){this.$emit("input",Object.assign({},this.value,t))}},computed:{enabledValue:{get:function(){return this.value.enabled},set:function(t){this.emitInput({enabled:t})}},comparatorValue:{get:function(){return this.value.comparator},set:function(t){this.emitInput({comparator:t})}},initialBufferValue:{get:function(){return this.value.initialBufferValue},set:function(t){this.emitInput({initialBufferValue:+t})}}}},M=k,O=n("b974"),T=Object(h["a"])(M,w,I,!1,null,null,null),j=T.exports;p()(T,{VCheckbox:E["a"],VSelect:O["a"],VTextField:v["a"]});var _={name:"SceneControls",components:{VectorInput:y,MirrorVectorInput:A,DepthBufferControls:j},data:function(){return{animationEnabled:!1,rotationEnabled:!1,transform:{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotationAroundWorldCenter:{x:0,y:0,z:0},mirror:{x:!1,y:!1,z:!1}},depthBufferSettings:{enabled:!0,comparator:"LESS",initialBufferValue:1}}},methods:{emitInput:function(){l.$emit("transformControlsUpdated",this.transform)},animationStateChanged:function(){l.$emit("animationStateChanged",this.animationEnabled)},rotateStateChanged:function(){l.$emit("rotateStateChanged",this.rotationEnabled)},depthBufferSettingsChanged:function(){l.$emit("depthBufferSettingsChanged",this.depthBufferSettings)}},computed:{position:{get:function(){return this.transform.position},set:function(t){this.transform.position=t,this.emitInput()}},rotation:{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t,this.emitInput()}},scale:{get:function(){return this.transform.scale},set:function(t){this.transform.scale=t,this.emitInput()}},rotationAroundWorldCenter:{get:function(){return this.transform.rotationAroundWorldCenter},set:function(t){this.transform.rotationAroundWorldCenter=t,this.emitInput()}},mirror:{get:function(){return this.transform.mirror},set:function(t){this.transform.mirror=t,this.emitInput()}},depthBuffer:{get:function(){return this.depthBufferSettings},set:function(t){this.depthBufferSettings=t,this.depthBufferSettingsChanged()}}}},R=_,z=n("b0af"),L=n("99d9"),B=Object(h["a"])(R,r,s,!1,null,null,null),$=B.exports;p()(B,{VCard:z["a"],VCardText:L["a"],VCardTitle:L["b"],VCheckbox:E["a"]});var U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"canvasHandler",attrs:{id:"canvas-handler"}})},W=[],X=n("2909"),D=n("5a89");function N(t){var e=J.Identity;if("mirror"in t){var n=t.mirror,a={x:n.x?-1:1,y:n.y?-1:1,z:n.z?-1:1};e.premultiply(F(a))}return"rotationAroundWorldCenter"in t&&e.premultiply(Q(t.rotationAroundWorldCenter)),"position"in t&&e.premultiply(P(t.position)),"rotation"in t&&e.premultiply(Q(t.rotation)),"scale"in t&&e.premultiply(F(t.scale)),e.toRowMajor()}function P(t){var e=t.x,n=t.y,a=t.z;return new J([1,0,0,0,0,1,0,0,0,0,1,0,e,n,a,1])}function Q(t){var e=t.x,n=t.y,a=t.z,i=J.Identity;return i.premultiply(G(a)),i.premultiply(q(n)),i.premultiply(Y(e)),i}function Y(t){return new J([1,0,0,0,0,at(t),nt(t),0,0,-nt(t),at(t),0,0,0,0,1])}function q(t){return new J([at(t),0,-nt(t),0,0,1,0,0,nt(t),0,at(t),0,0,0,0,1])}function G(t){return new J([at(t),nt(t),0,0,-nt(t),at(t),0,0,0,0,1,0,0,0,0,1])}function F(t){var e=t.x,n=t.y,a=t.z;return new J([e,0,0,0,0,n,0,0,0,0,a,0,0,0,0,1])}var H=n("d4ec"),Z=n("bee2"),J=function(){function t(e){Object(H["a"])(this,t),this.columnMajorArray=e,this.ROWS=4,this.COLUMNS=4}return Object(Z["a"])(t,[{key:"toRowMajor",value:function(){for(var e=new t([]),n=0;n<this.COLUMNS;n++)for(var a=0;a<this.ROWS;a++)e.setAt(n,a,this.getAt(a,n));return e.columnMajorArray}},{key:"getAt",value:function(t,e){return this.columnMajorArray[e+t*this.ROWS]}},{key:"setAt",value:function(t,e,n){this.columnMajorArray[e+t*this.ROWS]=n}},{key:"multiply",value:function(t){var e=tt(this,t);this.columnMajorArray=e.columnMajorArray}},{key:"premultiply",value:function(t){var e=tt(t,this);this.columnMajorArray=e.columnMajorArray}}],[{key:"Identity",get:function(){return new t([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}]),t}();function K(t,e,n,a){for(var i=0,o=0;o<t.COLUMNS;o++)i+=t.getAt(n,o)*e.getAt(o,a);return i}function tt(t,e){for(var n=new J([]),a=0;a<t.ROWS;a++)for(var i=0;i<e.COLUMNS;i++)n.setAt(a,i,K(t,e,a,i));return n}function et(t){return t*Math.PI/180}function nt(t){return Math.sin(et(t))}function at(t){return Math.cos(et(t))}function it(t){return Math.pow(t,Math.sin(2*t))+Math.pow(t,Math.cos(5*t))}var ot={name:"ThreeScene",data:function(){return{threeClock:null,scene:null,camera:null,renderer:null,textMesh:null,animationEnabled:!1,animationInfo:{initialAnimationX:0,animationX:null,animationSpeed:2,animationXMin:0,animationXMax:25},rotationEnabled:!1,rotationInfo:{currentRotation:null,initialRotation:0,rotationSpeed:30},lastTransform:{}}},mounted:function(){l.$on("transformControlsUpdated",this.onTransformControlsUpdated),l.$on("animationStateChanged",this.onAnimationStateChanged),l.$on("rotateStateChanged",this.onRotateStateChanged),l.$on("depthBufferSettingsChanged",this.applyDepthBufferSettings),this.initScene(),this.onWindowResize(),window.addEventListener("resize",this.onWindowResize),this.loadTextModel()},beforeDestroy:function(){window.removeEventListener("resize",this.onWindowResize),l.$off("transformControlsUpdated",this.onTransformControlsUpdated),l.$off("animationStateChanged",this.onAnimationStateChanged),l.$on("rotateStateChanged",this.onRotateStateChanged),l.$off("depthBufferSettingsChanged",this.applyDepthBufferSettings)},methods:{applyDepthBufferSettings:function(t){var e=this.renderer.getContext();if(!t.enabled)return e.disable(e.DEPTH_TEST),void this.render();e.enable(e.DEPTH_TEST),e.clearDepth(t.initialBufferValue);var n={NEVER:e.NEVER,LESS:e.LESS,EQUAL:e.EQUAL,LEQUAL:e.LEQUAL,GREATER:e.GREATER,NOTEQUAL:e.NOTEQUAL,GEQUAL:e.GEQUAL,ALWAYS:e.ALWAYS};e.depthFunc(n[t.comparator]),this.render()},onWindowResize:function(){var t=this.$refs.canvasHandler.getBoundingClientRect(),e=t.width,n=t.height;this.camera.aspect=e/n,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,n),this.renderer.render(this.scene,this.camera)},loadTextModel:function(){var t=new D["i"]({color:"hsl(0, 100%, 50%)",side:D["f"]}),e=new D["i"]({color:"hsl(50, 100%, 50%)",side:D["f"]}),n=new D["k"](20,20),a=new D["h"](n,t);this.textMesh=a;var i=new D["k"](20,20),o=new D["h"](i,e);o.rotateX(.4),o.rotateY(.4),o.rotateZ(.4),a.add(o),this.scene.add(a),this.render()},onTransformControlsUpdated:function(t){this.lastTransform=t,this.applyTransform(t)},applyTransform:function(t){var e=N(t),n=new D["g"];n.set.apply(n,Object(X["a"])(e)),n.decompose(this.textMesh.position,this.textMesh.quaternion,this.textMesh.scale),this.render()},onRotateStateChanged:function(t){if(this.rotationEnabled=t,t)return this.rotationInfo.currentRotation=this.rotationInfo.initialRotation,this.threeClock.start(),void this.rotate();this.applyTransform(this.lastTransform)},rotate:function(){if(this.rotationEnabled){requestAnimationFrame(this.rotate),this.rotationInfo.currentRotation+=this.rotationInfo.rotationSpeed*this.threeClock.getDelta(),this.rotationInfo.currentRotation%=360;var t=this.rotationInfo.currentRotation;this.applyTransform({rotation:{x:t,y:t,z:t}})}},onAnimationStateChanged:function(t){if(this.animationEnabled=t,t)return this.animationInfo.animationX=this.animationInfo.initialAnimationX,this.threeClock.start(),void this.animate();this.applyTransform(this.lastTransform)},animate:function(){if(this.animationEnabled){requestAnimationFrame(this.animate),this.animationInfo.animationX+=this.animationInfo.animationSpeed*this.threeClock.getDelta(),this.animationInfo.animationX>=this.animationInfo.animationXMax&&(this.animationInfo.animationSpeed=-Math.abs(this.animationInfo.animationSpeed)),this.animationInfo.animationX<=this.animationInfo.animationXMin&&(this.animationInfo.animationSpeed=Math.abs(this.animationInfo.animationSpeed));var t=it(this.animationInfo.animationX);this.applyTransform({position:{x:this.animationInfo.animationX,y:t,z:0}})}},render:function(){this.renderer.render(this.scene,this.camera)},initScene:function(){this.threeClock=new D["c"],this.scene=new D["l"],this.scene.background=new D["d"]("hsl(0, 100%, 100%)"),this.camera=new D["j"](75,1,.1,1e3),this.camera.position.set(50,50,50),this.camera.lookAt(0,0,0),this.scene.add(this.camera);var t=new D["e"]("hsl(0, 0%, 100%)");t.position.set(0,0,10),this.scene.add(t);var e=new D["a"]("hsl(0, 0%, 50%)");this.scene.add(e);var n=new D["b"](35);this.scene.add(n),this.renderer=new D["m"]({antialias:!0}),this.$refs.canvasHandler.appendChild(this.renderer.domElement)}}},rt=ot,st=(n("747d"),Object(h["a"])(rt,U,W,!1,null,"797a304c",null)),lt=st.exports,ut={name:"App",components:{SceneControls:$,ThreeScene:lt}},ct=ut,dt=(n("7cb2"),n("7496")),ft=n("f6c4"),ht=Object(h["a"])(ct,i,o,!1,null,"d08bb19e",null),mt=ht.exports;p()(ht,{VApp:dt["a"],VMain:ft["a"]});var pt=n("f309");a["a"].use(pt["a"]);var vt=new pt["a"]({});a["a"].config.productionTip=!1,new a["a"]({vuetify:vt,render:function(t){return t(mt)}}).$mount("#app")},"5ded":function(t,e,n){},"6d3a":function(t,e,n){},"747d":function(t,e,n){"use strict";n("5ded")},"7cb2":function(t,e,n){"use strict";n("6d3a")}});
//# sourceMappingURL=app.7b3c2cab.js.map